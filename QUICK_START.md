# Flow.io 快速启动指南

## 🚀 5 分钟快速开始

### 1. 环境准备

确保你已安装：
- Node.js 18 或更高版本
- PostgreSQL 14 或更高版本
- pnpm 8 或更高版本

### 2. 安装依赖

```bash
pnpm install
```

### 3. 配置数据库

创建 `.env.local` 文件：

```env
# 数据库连接（请修改为你的数据库信息）
DATABASE_URL="postgresql://postgres:password@localhost:5432/flowio?schema=public"

# NextAuth 密钥（生产环境请使用强密钥）
NEXTAUTH_SECRET="your-super-secret-key-change-in-production"
NEXTAUTH_URL="http://localhost:3000"

# 应用配置
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_NAME="Flow.io"
```

### 4. 初始化数据库

```bash
# 生成 Prisma Client
pnpm db:generate

# 推送数据库 schema（开发环境快速方式）
pnpm db:push

# 或者使用 migration（生产环境推荐）
pnpm db:migrate
```

### 5. 启动开发服务器

```bash
pnpm dev
```

访问 http://localhost:3000 🎉

## 📖 使用流程

### 第一步：注册账户

1. 访问 http://localhost:3000
2. 点击右上角 **注册** 按钮
3. 填写注册信息：
   - 姓名
   - 邮箱
   - 密码（至少 6 个字符）
4. 点击 **注册** 完成账户创建

### 第二步：创建项目

1. 登录后自动进入 Dashboard
2. 点击 **新建项目** 按钮
3. 填写项目信息：
   - 项目名称（如：电商系统）
   - 项目描述（可选）
4. 点击 **创建项目**

### 第三步：设计流程

1. 在项目详情页点击 **新建流程**
2. 填写流程名称（如：用户注册流程）
3. 进入流程编辑器：
   - **左侧面板**：拖拽节点到画布
   - **中间画布**：连接节点构建流程
   - **右侧面板**：编辑节点属性
4. 点击 **保存** 保存流程

#### 可用节点类型：
- 🟢 **开始节点**：流程起点
- 🔴 **结束节点**：流程终点
- 🔵 **动作节点**：执行操作
- 🟡 **条件节点**：条件判断（支持真/假两个分支）
- 🟣 **表单节点**：用户输入表单
- 🔷 **数据库节点**：数据库操作

### 第四步：设计表单

1. 从 Dashboard 进入 **表单设计器**
2. 点击 **新建表单**
3. 设计表单：
   - 从左侧选择字段类型
   - 在右侧编辑字段属性
   - 中间实时预览效果
4. 支持的字段类型：
   - 文本框、多行文本
   - 数字、邮箱、密码
   - 下拉选择、单选框、复选框
   - 日期、文件上传

### 第五步：设计数据模型

1. 进入 **数据模型** 页面
2. 点击 **新建数据模型**
3. 填写基本信息：
   - 选择所属项目
   - 模型名称（如：User）
   - 模型描述
4. 添加字段：
   - 点击 **+** 添加字段
   - 设置字段名、类型、属性
   - 配置必填、唯一等约束
5. 保存数据模型

#### 支持的字段类型：
- String（字符串）
- Int（整数）
- Float（浮点数）
- Boolean（布尔值）
- DateTime（日期时间）
- Json（JSON 对象）
- Bytes（二进制数据）

### 第六步：生成代码

1. 进入 **代码生成器** 页面
2. 选择已创建的数据模型
3. 点击 **生成代码**
4. 预览生成的文件：
   - Prisma Schema
   - TypeScript 接口
   - Next.js 页面组件
   - Server Actions
   - API 路由
5. 点击 **下载** 获取代码文件

### 第七步：导出项目

1. 进入 **导出项目** 页面
2. 选择要导出的项目
3. 配置导出选项：
   - 包含流程
   - 包含表单
   - 包含数据模型
   - 包含生成的代码
4. 选择导出格式：
   - JSON：项目配置文件
   - ZIP：完整代码包（即将支持）
5. 点击 **导出项目** 下载

## 🎯 常见任务

### 查看项目统计

在 Dashboard 可以看到：
- 项目总数
- 流程总数
- 最近更新的项目

### 编辑流程

1. 在项目详情页找到目标流程
2. 点击 **打开编辑器**
3. 修改节点和连接
4. 保存更改

### 删除资源

- 删除节点：选中节点后点击右侧面板的 **删除节点**
- 删除流程：在项目详情页点击流程的删除按钮
- 删除项目：在项目列表点击删除按钮

## 🔧 常用命令

```bash
# 开发
pnpm dev              # 启动开发服务器
pnpm build            # 构建生产版本
pnpm start            # 启动生产服务器

# 数据库
pnpm db:generate      # 生成 Prisma Client
pnpm db:push          # 推送 schema（开发用）
pnpm db:migrate       # 创建 migration（生产用）
pnpm db:studio        # 打开 Prisma Studio

# 代码质量
pnpm lint             # 运行 ESLint
```

## 💡 使用技巧

### 流程编辑器技巧

1. **快速添加节点**：直接点击左侧节点面板的按钮
2. **移动节点**：拖拽节点可以调整位置
3. **连接节点**：从一个节点的底部手柄拖到另一个节点的顶部手柄
4. **删除连接**：点击连接线，然后按 Delete 键
5. **缩放画布**：使用右下角的控制按钮或鼠标滚轮

### 表单设计技巧

1. **复用字段**：可以复制字段配置到其他表单
2. **验证规则**：在字段属性中设置必填、唯一等规则
3. **默认值**：为字段设置默认值以提升用户体验

### 数据模型技巧

1. **命名规范**：使用 PascalCase 命名模型（如 UserProfile）
2. **字段命名**：使用 camelCase 命名字段（如 firstName）
3. **关系设计**：通过引用类型建立表关系

## 🐛 常见问题

### 数据库连接失败

检查：
1. PostgreSQL 服务是否启动
2. `.env.local` 中的数据库 URL 是否正确
3. 数据库是否已创建
4. 防火墙是否阻止连接

### 登录失败

检查：
1. NEXTAUTH_SECRET 是否已设置
2. 邮箱和密码是否正确
3. 用户是否已注册

### 页面无法访问

检查：
1. 开发服务器是否正在运行
2. 端口 3000 是否被占用
3. 是否已登录（某些页面需要认证）

## 📚 下一步

- 阅读完整的 [README.md](./README.md)
- 探索示例项目
- 自定义主题和样式
- 贡献代码

## 🆘 获取帮助

- 查看项目文档
- 提交 GitHub Issue
- 加入社区讨论

祝你使用愉快！🎉

